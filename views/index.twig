{% extends 'base.twig' %}

{% block css %}
<style type="text/css">
	#content .collection {
		border:none;
		margin-bottom:0px;
	}
</style>
{% endblock %}

{% block content %}
<div class="row">
	<div class="col s12">
		<div class="card">
			<div class="card-content">
				<span class="card-title black-text">Upcoming</span>
				<div class="collection">
					{% for event in events %}
						<a href="{{event.link}}" class="blue-text lighten-1 collection-item">
							{{event.name}}<span class="badge">{{event.time}}</span>
						</a>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col s12">
		<div class="card">
			<div class="card-content">
				<span class="card-title black-text">Goals</span>
				<ul class="collection">
					{% for goal in goals %}
						<li class="black-text collection-item progress-bar" data-progress="{{goal.progress}}">
							{{goal.name}}<span class="badge">{{(goal.progress == "100%") ? "Done" : goal.progress}}</span>
						</li>
					{% endfor %}
				</ul>	
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col s12">
		<div class="card">
			<div class="card-content">
				<span class="card-title black-text">Todos?</span>
				<div class="collection">
					{% for action in actions %}
						<a href="{{action.link}}" class="collection-item black-text">
							{{action.name}}<span class="badge"><i class="material-icons">&#xE5C8;</i></span>
						</a>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
$('.progress-bar').each(function(indx){
	var progress = $(this).attr('data-progress');
	this.style.background = "linear-gradient(to right, #a5d6a7 0%, #a5d6a7 "+progress+", transparent "+progress+", transparent 100%)";
})
</script>
{% endblock %}